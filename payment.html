<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagamento PIX - Fusion Cloud Games</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="checkout.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body class="checkout-page">
    <div class="checkout-container">
        <div class="checkout-info">
            <div class="info-content">
                <div class="info-logo">
                    <div class="logo-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" width="40" height="40">
                            <path d="M6 15c-2.2 0-4-1.7-4-3.8S3.8 7.4 6 7.4c.4-2.5 2.4-4.4 5-4.4 3.1 0 5.6 2.6 5.7 5.7 1.7.6 3 2.1 3 3.9 0 2.5-2 4.6-4.6 4.6H6z" stroke="white" stroke-width="2.2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7.7 12.8c1.1-1.6 4.3-1.5 5.1-2.9.6-1.3-.5-2.4-2.1-2.4-1.2 0-2.2.5-3 1.2" stroke="white" stroke-width="2" fill="none" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <span class="logo-text">FUSION</span>
                </div>
                <h1 class="info-greeting">Pagamento via PIX</h1>
                <p class="info-description">Confira os detalhes do seu plano e realize o pagamento com a chave PIX informada.</p>
                <div class="plan-option-card selected" style="cursor: default;">
                    <div class="plan-option-radio"></div>
                    <div class="plan-option-icon" id="planIcon">PLANO</div>
                    <div class="plan-option-details">
                        <div class="plan-option-name" id="planName">Plano</div>
                        <div class="plan-option-price" id="planPrice">Preço</div>
                        <div class="plan-option-period" id="planDuration">Duração</div>
                    </div>
                </div>
                <div class="plan-option-card" style="cursor: default;">
                    <div class="plan-option-details">
                        <div class="plan-option-name">Banco</div>
                        <div class="plan-option-price" id="pixBank">-</div>
                        <div class="plan-option-period">Chave PIX</div>
                        <div class="plan-option-price" id="pixKey">-</div>
                    </div>
                </div>
                <div class="divider">Após o pagamento, envie o comprovante em um ticket de suporte.</div>
                <button class="btn-login" id="openLoginBtn">Fazer Login</button>
                <a class="btn-login" id="openSignupBtn" href="signup.html">Cadastrar</a>
            </div>
        </div>
        <div class="checkout-form">
            <div class="form-content">
                <h3 class="form-title">Instruções</h3>
                <p>Após pagamento envie o comprovante em um de nossos tickets de suporte. Faça login abaixo e mande seu comprovante.</p>
                <button class="btn-login" id="openLoginBtn2">Abrir Login</button>
            </div>
        </div>
    </div>

    <div class="login-modal" id="loginModal">
        <div class="login-modal-content">
            <button class="login-modal-close" id="closeLoginModal">&times;</button>
            <div class="login-header">
                <div class="login-logo">
                    <div class="logo-icon">
                        <svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="20" cy="20" r="18" fill="url(#gradientLogin)"/>
                            <path d="M15 20L20 12L25 20L20 28L15 20Z" fill="white" opacity="0.9"/>
                            <defs>
                                <linearGradient id="gradientLogin" x1="0" y1="0" x2="40" y2="40">
                                    <stop offset="0%" stop-color="#A855F7"/>
                                    <stop offset="100%" stop-color="#6366F1"/>
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                    <span class="logo-text">FUSION</span>
                </div>
                <h2>Bem-vindo de volta!</h2>
                <p>Entre na sua conta para continuar</p>
            </div>
            <form class="login-form" id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" name="email" required placeholder="seu@email.com">
                </div>
                <div class="form-group">
                    <label for="loginPassword">Senha</label>
                    <input type="password" id="loginPassword" name="password" required placeholder="••••••••">
                </div>
                <div class="login-options">
                    <label class="checkbox-label">
                        <input type="checkbox" id="rememberMe">
                        <span>Lembrar-me</span>
                    </label>
                    <a href="#" class="forgot-password">Esqueceu a senha?</a>
                </div>
                <button type="submit" class="btn-login">Entrar</button>
                <button type="button" class="btn-login" id="goSignupBtn">Cadastrar</button>
            </form>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const params = new URLSearchParams(window.location.search);
        const plano = params.get('plano') || 'basic';
        const price = params.get('price') || '';
        const duration = params.get('duration') || '';
        const nameMap = { basic: 'FUSION BASIC', virtual: 'FUSION VIRTUAL', ultra: 'FUSION ULTRA' };
        const iconEl = document.getElementById('planIcon');
        const nameEl = document.getElementById('planName');
        const priceEl = document.getElementById('planPrice');
        const durEl = document.getElementById('planDuration');
        const bankEl = document.getElementById('pixBank');
        const keyEl = document.getElementById('pixKey');
        const iconClass = plano === 'ultra' ? 'ultra' : (plano === 'virtual' ? 'virtual' : 'basic');
        iconEl.classList.add(iconClass);
        iconEl.textContent = iconClass.toUpperCase();
        nameEl.textContent = `${nameMap[plano] || 'PLANO'} - ${duration.toUpperCase()} x 1`;
        priceEl.textContent = price || '';
        durEl.textContent = duration || '';
        if (plano === 'ultra') {
            bankEl.textContent = 'Banco: Mercado Pago';
            keyEl.textContent = 'Chave Pix: Gruponxscloud@gmail.com';
        } else {
            bankEl.textContent = 'Banco: Caixa Tem';
            keyEl.textContent = 'Chave Pix: 50605208387';
        }
        const openBtn = document.getElementById('openLoginBtn');
        const openBtn2 = document.getElementById('openLoginBtn2');
        const openHandler = () => { if (window.openLoginModal) window.openLoginModal(); };
        if (openBtn) openBtn.addEventListener('click', openHandler);
        if (openBtn2) openBtn2.addEventListener('click', openHandler);
        const goSignup = () => { window.location.href = 'signup.html'; };
        const goBtn1 = document.getElementById('openSignupBtn');
        const goBtn2 = document.getElementById('goSignupBtn');
        if (goBtn1) goBtn1.addEventListener('click', (e) => { e.preventDefault(); goSignup(); });
        if (goBtn2) goBtn2.addEventListener('click', goSignup);
    });
    </script>
    <script src="script.js"></script>
    <script src="auth.js"></script>
    <script src="login.js"></script>
    <script>
      (function(){
        try{
          const params = new URLSearchParams(location.search);
          const plan = params.get('plano') || 'basic';
          const cfg = JSON.parse(localStorage.getItem('fusion_plan_notices') || '{}');
          const state = cfg[plan] || 'none';
          if (state !== 'none') {
            alert(state === 'out' ? 'Plano indisponível no momento.' : 'Plano em manutenção. Tente mais tarde.');
            location.href = 'index.html#plans';
          }
        } catch(e){}
      })();
    </script>
</body>
</html>
